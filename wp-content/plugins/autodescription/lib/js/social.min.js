'use strict';window.tsfSocial=function(a){const b="undefined"!=typeof tsfSocialL10n&&tsfSocialL10n;let c={ogDescPlaceholder:b.states.placeholders.ogDesc,twDescPlaceholder:b.states.placeholders.twDesc};const d=a=>a?a in c?c[a]:void 0:c;return Object.assign({load:()=>{}},{initTitleInputs:c=>{let d=a(c.og),e=a(c.tw),f=a(c.ref),g=a(c.refNa),h=a(c.meta);if(!d.length||!e.length||!h.length||!f.length||!g.length)return;let i=b.params.homeLocks.ogTitleLock,j=b.params.homeLocks.ogTitlePHLock,k=b.params.homeLocks.twTitleLock,l=b.params.homeLocks.twTitlePHLock,m=i?d.attr("placeholder"):d.val(),n=k?e.attr("placeholder"):e.val(),o=g.html(),p=f.html();const q=a=>{let b="";switchActive:switch(a){case"twitter":if(b=n,k||l){b=b.length?b:e.attr("placeholder");break switchActive}case"og":if(b=b.length?b:m,i||j){b=b.length?b:d.attr("placeholder");break switchActive}case"meta":case"ref":b.length||(tsfTitle.getStateOf(c.meta.id,"useSocialTagline")?b=p:b=o);}return b},r=()=>{i||j||d.attr("placeholder",tsf.decodeEntities(q("meta"))),k||l||e.attr("placeholder",tsf.decodeEntities(q("og")))},s=(a,b,c)=>{let d=document.getElementById(a.id+"_chars");d&&tsfC.updateCharacterCounter({e:d,text:b,field:"title",type:c})};let t;const u=()=>{clearTimeout(t),t=setTimeout(()=>{d.each((a,b)=>s(b,q("og"),"opengraph")),e.each((a,b)=>s(b,q("twitter"),"twitter"))},10)};let v;const w=()=>{clearTimeout(v),v=setTimeout(()=>{p=f.html(),o=g.html(),r(),u()},10)};f.on("change.tsfUpdateRefTitle",w),g.on("change.tsfUpdateRefTitle",w);d.on("input.tsfUpdateOgTitle",a=>{if(!i){let b=a.target.value.trim();m=b.length?tsf.sDoubleSpace(b):""}r(),u()}),e.on("input.tsfUpdateTwTitle",a=>{if(!k){let b=a.target.value.trim();n=b.length?tsf.sDoubleSpace(b):""}r(),u()})},initDescriptionInputs:d=>{let e=a(d.og),f=a(d.tw),g=a(d.meta),h=a(d.ref);if(!e.length||!f.length||!g.length||!h.length)return;let i=b.params.homeLocks.ogDescriptionLock,j=b.params.homeLocks.ogDescriptionPHLock,k=b.params.homeLocks.twDescriptionLock,l=b.params.homeLocks.twDescriptionPHLock,m=i?e.attr("placeholder"):e.val(),n=k?f.attr("placeholder"):f.val(),o=h.html();const p=(a,b)=>{let d="";switchActive:switch(a){case"twitter":if(d=n,k||l){d=d.length?d:f.attr("placeholder");break switchActive}case"og":if(d=d.length?d:m,i||j){d=d.length?d:e.attr("placeholder");break switchActive}case"meta":d.length||g.val().length||("twitter"===b?d=c.twDescPlaceholder:"og"==b&&(d=c.ogDescPlaceholder));case"ref":d=d.length?d:o;}return d},q=()=>{i||j||e.attr("placeholder",tsf.decodeEntities(p("meta","og"))),k||l||f.attr("placeholder",tsf.decodeEntities(p("og","twitter")))},r=(a,b,c)=>{let d=document.getElementById(a.id+"_chars");d&&tsfC.updateCharacterCounter({e:d,text:b,field:"description",type:c})};let s=0;const t=()=>{clearTimeout(s),s=setTimeout(()=>{e.each((a,b)=>r(b,p("og","og"),"opengraph")),f.each((a,b)=>r(b,p("twitter","twitter"),"twitter"))},10)};h.on("change.tsfUpdateRefDesc",()=>{o=h.html(),q(),t()});e.on("input.tsfUpdateOgDesc",a=>{if(!i){let b=a.target.value.trim();m=b.length?tsf.sDoubleSpace(b):""}q(),t()}),f.on("input.tsfUpdateTwDesc",a=>{if(!k){let b=a.target.value.trim();n=b.length?tsf.sDoubleSpace(b):""}q(),t()})},getState:d,updateState:(a,b)=>{switch(c[a]=b,a){case"ogDescPlaceholder":case"twDescPlaceholder":break;default:}}},{l10n:b})}(jQuery),window.tsfSocial.load();
